<?xml version="1.0" ?>
<!--
   #    ##   #  #   #
  # #  #  #  #  #  # #                          #
 ##### #  #  #  # #####  ##  ###  #  #  ## ###  ###
 #   # #  #  #  # #   # #  # #  # #  # #   #  # #  #
 #   # #  #  #  # #   # #  # #  # #  #   # #  # #  #
 #   #  ## #  ##  #   #  ### ###   ### ##  ###  #  #
                           # #             #
                         ##  #             #

Another QUAlity GPU-SPH, by CEHINAV.
    http://canal.etsin.upm.es/
Authors:
    Jose Luis Cercos-Pita
    Leo Miguel Gonzalez
    Antonio Souto-Iglesias
-->

<sphInput>
    <!-- Wave heigh sensor. -->
    <Variables>
        <!-- Sensor result -->
        <Variable name="H_sensor" type="float" value="0.0" />
        <!-- Helper array to nullify the z coordinates of the particles far away
        from the sensor. -->
        <Variable name="h_sensor_z" type="float*" length="N" />
        <!-- Definition of the points where the sensor should compute -->
        <Variable name="h_sensor_x" type="float" value="0.0" />
    </Variables>

    <Tools>
        <!-- H1 computation -->
        <Tool action="insert" before="t = t + dt" type="kernel" name="H_sensor z" path="h_sensor.cl"/>
        <Tool action="insert" after="H_sensor z" type="reduction" name="H_sensor" in="h_sensor_z" out="H_sensor" null="-INFINITY">
            c = (a &lt; b) ? b : a;
        </Tool>
    </Tools>

    <Reports>
        <Report type="screen" name="H screen" fields="H_sensor" color="red" bold="false"/>
        <Report type="file" name="H file" fields="t, H_sensor" path="sensors_h.out"/>
    </Reports>
</sphInput>
